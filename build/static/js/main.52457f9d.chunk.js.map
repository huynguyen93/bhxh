{"version":3,"sources":["constants.js","components/ModalSalary.js","utils.js","App.js","reportWebVitals.js","index.js"],"names":["ModalSalary","show","setShow","Modal","onHide","dialogClassName","aria-labelledby","Header","closeButton","Title","id","Body","million","months","Array","fill","map","_","i","padStart","years","currentYear","Date","getFullYear","oldestYear","year","push","zones","salaryTypes","Math","round","calculateTotalYears","totalMonths","modulo","rawYears","ceil","getAdjustmentRate","mapping","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","Object","keys","length","formatNumber","number","withVnd","suffix","toLocaleString","calculatePeriods","periods","totalMonthsBefore2014","totalMonthsFrom2014","adjustedSalary","estimatedContributed","adjustedAverageSalaryFormula","forEach","period","monthStart","parseInt","yearStart","monthEnd","yearEnd","salary","split","join","insuranceSalary","salaryType","contractedSalaryToInsuranceSalary","adjustment","totalMonthsOfPeriod","adjustedAverageSalary","totalYearsBefore2014","totalYearsFrom2014","amountWillReceive","validatePeriod","errorMessage","calculateAmountPaid","byCompany","byWorker","total","defaultPeriod","App","React","useState","setPeriods","result","setResult","showModalSalary","setShowModalSalary","updatePeriod","periodIndex","data","updatedPeriods","console","log","className","onClick","disabled","index","onChange","e","target","value","label","type","placeholder","aria-describedby","salaryInInteger","replace","formattedSalary","amountPaidForInsurance","utils","handleSalaryChange","style","width","title","filter","idx","removePeriod","isValidTimeRange","hasError","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.52457f9d.chunk.js","sourcesContent":["const million = 1000000;\n\nexport const adjustmentsByYear = {\n  1995: 4.72,\n};\n\nexport const months = Array(12).fill('').map((_, i) => 'Tháng ' + `${i + 1}`.padStart(2, '0'));\n\nexport const years = [];\nconst currentYear = new Date().getFullYear();\nconst oldestYear = currentYear - 30;\nfor (let year = currentYear; year > oldestYear; year--) {\n  years.push(year);\n}\n\nexport const zones = {zone1: 'I', zone2: 'II', zone3: 'III', zone4: 'IV'};\nexport const zoneLabels = {\n  [zones.zone1]: 'I',\n  [zones.zone2]: 'II',\n  [zones.zone3]: 'III',\n  [zones.zone4]: 'IV',\n};\nexport const baseSalary = 1.49 * million;\nexport const maximumInsurancePerMonth = baseSalary * 20;\nexport const minimumSalaryByZone = {\n  [zones.zone1]: Math.round(4.18 * million),\n  [zones.zone2]: Math.round(3.71 * million),\n  [zones.zone3]: Math.round(3.25 * million),\n  [zones.zone4]: Math.round(2.92 * million),\n};\nexport const salaryTypes = {contracted: 'contracted', insurance: 'insurance'};\n\nexport const percentageCompanyPays = 17.5;\nexport const percentageWorkerPays = 8;\n","import React from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\n\nfunction ModalSalary({ show, setShow}) {\n  return (\n    <Modal\n      show={show}\n      onHide={() => setShow(false)}\n      dialogClassName=\"modal-90w\"\n      aria-labelledby=\"salary-explanation\"\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"salary-explanation\">\n          Giải thích các mức lương\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <h4>1. Mức lương đóng BHXH</h4>\n        <p>AB CD</p>\n        <h4>2. Mức lương chính thức</h4>\n        <p>Lorem ipsum</p>\n      </Modal.Body>\n    </Modal>\n  );\n}\n\nexport default ModalSalary;\n","import {percentageCompanyPays, percentageWorkerPays, salaryTypes} from \"./constants\";\n\nfunction calculatePeriods(periods) {\n  let totalMonthsBefore2014 = 0;\n  let totalMonthsFrom2014 = 0;\n  let adjustedSalary = 0;\n  let estimatedContributed = 0;\n  let adjustedAverageSalaryFormula = '{';\n\n  periods.forEach(period => {\n    const monthStart = parseInt(period.monthStart);\n    const yearStart = parseInt(period.yearStart);\n    const monthEnd = parseInt(period.monthEnd);\n    const yearEnd = parseInt(period.yearEnd);\n    const salary = parseInt(period.salary.split(' ').join(''));\n    const salaryType = period.salaryType;\n    const insuranceSalary = salaryType === salaryTypes.contracted\n      ? contractedSalaryToInsuranceSalary(salary)\n      : salary;\n\n    for (let year = yearStart; year <= yearEnd; year++) {\n      const adjustment = getAdjustmentRate(year);\n      let totalMonthsOfPeriod = 0;\n\n      if (yearStart === yearEnd) {\n        totalMonthsOfPeriod = monthEnd - monthStart + 1;\n      } else if (year === yearStart) {\n        totalMonthsOfPeriod = 12 - monthStart + 1;\n      } else if (year === yearEnd) {\n        totalMonthsOfPeriod = monthEnd;\n      } else {\n        totalMonthsOfPeriod = 12;\n      }\n\n      adjustedAverageSalaryFormula += `(${totalMonthsOfPeriod} * ${formatNumber(insuranceSalary)} * ${adjustment})`\n      adjustedSalary += (totalMonthsOfPeriod * insuranceSalary * adjustment);\n      estimatedContributed += (totalMonthsOfPeriod * insuranceSalary) * 20 / 100;\n\n      if (year < 2014) {\n        totalMonthsBefore2014 += totalMonthsOfPeriod;\n      } else {\n        totalMonthsFrom2014 += totalMonthsOfPeriod;\n      }\n    }\n  });\n\n  const totalMonths = totalMonthsBefore2014 + totalMonthsFrom2014;\n\n  const adjustedAverageSalary = adjustedSalary / totalMonths;\n  const totalYearsBefore2014 = calculateTotalYears(totalMonthsBefore2014);\n  const totalYearsFrom2014 = calculateTotalYears(totalMonthsFrom2014);\n\n  adjustedAverageSalaryFormula = adjustedAverageSalaryFormula.split(')(').join(') + (');\n  adjustedAverageSalaryFormula += `} : ${totalMonths}`;\n\n  return {\n    totalYearsBefore2014,\n    totalYearsFrom2014,\n    adjustedAverageSalaryFormula,\n    estimatedContributed,\n    adjustedSalary,\n    adjustedAverageSalary,\n    totalMonths,\n    amountWillReceive: (1.5 * adjustedAverageSalary * totalYearsBefore2014) + (2 * adjustedAverageSalary * totalYearsFrom2014)\n  };\n}\n\nfunction calculateTotalYears(totalMonths) {\n  const modulo = totalMonths % 12;\n  const rawYears = totalMonths / 12;\n  if (modulo === 0) {\n    return rawYears;\n  } else if (modulo <= 6) {\n    return Math.round(rawYears) + 0.5\n  } else {\n    return Math.ceil(rawYears);\n  }\n}\n\nfunction validatePeriod(period) {\n  const {salary, monthStart, monthEnd, yearStart, yearEnd} = period;\n  let errorMessage = '';\n\n  if (!salary || !monthStart || !monthEnd || !yearStart || !yearEnd) {\n    errorMessage = 'Vui lòng điền hết thông tin!';\n  }\n\n  return errorMessage;\n}\n\nfunction getAdjustmentRate(year) {\n  const mapping = {\n    1995: 4.85,\n    1996: 4.12,\n    1997: 3.89,\n    1998: 3.77,\n    1999: 3.5,\n    2000: 3.41,\n    2001: 3.42,\n    2002: 3.29,\n    2003: 3.19,\n    2004: 2.96,\n    2005: 2.73,\n    2006: 2.54,\n    2007: 2.35,\n    2008: 1.91,\n    2009: 1.79,\n    2010: 1.64,\n    2011: 1.38,\n    2012: 1.26,\n    2013: 1.18,\n    2014: 1.14,\n    2015: 1.13,\n    2016: 1.1,\n    2017: 1.06,\n    2018: 1.03,\n    2019: 1,\n    2020: 1,\n  };\n\n  const years = Object.keys(mapping);\n  if (year < mapping[years[0]]) {\n    return mapping[years[0]];\n  }\n\n  if (year > mapping[years[years.length - 1]]) {\n    return mapping[years[years.length - 1]];\n  }\n\n  return mapping[year];\n}\n\nfunction contractedSalaryToInsuranceSalary(contractedSalary) {\n\n}\n\nfunction calculateAmountPaid(insuranceSalary) {\n  const byCompany = insuranceSalary * percentageCompanyPays / 100;\n  const byWorker = insuranceSalary * percentageWorkerPays / 100;\n\n  return {\n    byCompany,\n    byWorker,\n    total: byCompany + byWorker,\n  };\n}\n\nfunction formatNumber(number, withVnd = false) {\n  const suffix = withVnd ? ' vnđ' : '';\n  return Math.round(number).toLocaleString('en') + suffix;\n}\n\nexport default {\n  calculatePeriods,\n  validatePeriod,\n  calculateAmountPaid,\n  formatNumber,\n};\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport ModalSalary from \"./components/ModalSalary\";\nimport {\n  months,\n  years\n} from \"./constants\";\nimport utils from \"./utils\";\n\nconst defaultPeriod = {\n  salary: '',\n};\n\nfunction App() {\n  const [periods, setPeriods] = React.useState([{...defaultPeriod}]);\n  const [result, setResult] = React.useState(null);\n  const [showModalSalary, setShowModalSalary] = React.useState(false);\n\n  const addPeriod = () => {\n    setPeriods([...periods, {...defaultPeriod}]);\n    setResult(null);\n  };\n\n  const removePeriod = (index) => {\n    setPeriods([...periods.filter((period, idx) => idx !== index)]);\n    setResult(null);\n  };\n\n  const calculate = () => {\n    const isValid = true;\n    const updatedPeriods = [];\n    let hasError = false;\n\n    periods.forEach((period) => {\n      const errorMessage = utils.validatePeriod(period);\n\n      if (errorMessage) hasError = true;\n\n      updatedPeriods.push({\n        ...period,\n        errorMessage: errorMessage,\n      })\n    });\n\n    setPeriods(updatedPeriods);\n\n    if (!hasError) {\n      setResult(utils.calculatePeriods(periods));\n    }\n  };\n\n  const updatePeriod = (periodIndex, data) => {\n    const updatedPeriods = [...periods];\n    updatedPeriods[periodIndex] = {\n      ...periods[periodIndex],\n      ...data,\n      errorMessage: '',\n    };\n\n    setPeriods([\n      ...updatedPeriods,\n    ]);\n\n    setResult(null);\n  };\n\n  const handleSalaryChange = (periodIndex, salary) => {\n    if (salary.length === 0) {\n      updatePeriod(periodIndex, {salary: ''});\n      return;\n    }\n\n    const salaryInInteger = parseInt(salary.replace(/[^0-9]/g, '') || 0);\n    const localeString = salaryInInteger.toLocaleString('en');\n    const formattedSalary = localeString.replace(/,/g, ' ');\n\n    const amountPaidForInsurance = utils.calculateAmountPaid(salaryInInteger);\n\n    updatePeriod(periodIndex, {salary: formattedSalary, amountPaidForInsurance});\n  };\nconsole.log(result);\n  return (\n    <div className=\"App\">\n      <table className=\"table table-bordered table-responsive-md\">\n        <thead>\n        <tr>\n          <th>#</th>\n          <th>Từ... </th>\n          <th>Đến... </th>\n          <th>\n            Lương đóng BHXH\n            <button\n              className=\"btn btn-sm btn-link mx-1\"\n              onClick={() => setShowModalSalary(true)}\n              disabled={showModalSalary}\n            >\n\n            </button>\n          </th>\n          <th/>\n        </tr>\n        </thead>\n        <tbody>\n          {periods.map((period, index) => {\n            const {\n              salary,\n            } = period;\n\n            return (\n              <tr key={index}>\n                <td>{index + 1}</td>\n                <td>\n                  <select\n                    id=\"inputState\"\n                    className=\"mr-3\"\n                    onChange={(e) => updatePeriod(index, {monthStart: e.target.value})}\n                  >\n                    <option>Tháng...</option>\n                    {months.map((label, index) => (<option value={index + 1} key={index}>{label}</option>))}\n                  </select>\n                  <select\n                    id=\"inputState\"\n                    className=\"\"\n                    onChange={(e) => updatePeriod(index, {yearStart: e.target.value})}\n                  >\n                    <option>Năm...</option>\n                    {years.map((label) => (<option value={label} key={label}>{label}</option>))}\n                  </select>\n                </td>\n                <td>\n                  <select\n                    id=\"inputState\"\n                    className=\"mr-3\"\n                    onChange={(e) => updatePeriod(index, {monthEnd: e.target.value})}\n                  >\n                    <option>Tháng...</option>\n                    {months.map((label, index) => (<option value={index + 1} key={index}>{label}</option>))}\n                  </select>\n                  <select\n                    id=\"inputState\"\n                    onChange={(e) => updatePeriod(index, {yearEnd: e.target.value})}\n                  >\n                    <option>Năm...</option>\n                    {years.map((label) => (<option value={label} key={label}>{label}</option>))}\n                  </select>\n                </td>\n                <td>\n                  <input\n                    type=\"text\"\n                    placeholder=\"10 000 000\"\n                    id=\"exampleInputEmail1\"\n                    aria-describedby=\"emailHelp\"\n                    value={salary}\n                    onChange={(e) => handleSalaryChange(index, e.target.value)}\n                    style={{width: '120px'}}\n                  />\n                  {' '}\n                  vnđ\n                </td>\n                <td>\n                  <button\n                    title=\"Xóa\"\n                    onClick={() => removePeriod(index)}\n                    className=\"btn btn-sm rounded btn-danger\"\n                  >\n                    xóa\n                  </button>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n      <div className=\"mb-4\">\n        <button\n          onClick={addPeriod}\n          className=\"btn btn-sm btn-secondary mr-2\"\n        >\n          <b>+</b> thêm dòng\n        </button>\n      </div>\n      <ul>\n        {periods.map((period, index) => {\n          const {\n            monthStart,\n            monthEnd,\n            yearStart,\n            yearEnd,\n            errorMessage,\n          } = period;\n          let isValidTimeRange = true;\n          if (monthStart && monthEnd && yearStart && yearEnd) {\n            if (yearEnd < yearStart || (yearEnd === yearStart && monthEnd < monthStart)) {\n              isValidTimeRange = false;\n            }\n          }\n\n          if (isValidTimeRange && !errorMessage) {\n            return null;\n          }\n\n          return (\n            <li key={index}>\n              Lỗi ở dòng {index + 1}:\n              {' '}\n              {!isValidTimeRange && (\n                <span className=\"text-danger\">Thời gian không phù hợp, vui lòng chọn lại!</span>\n              )}\n              {' '}\n              {errorMessage && (\n                <span className=\"text-danger\">{errorMessage}</span>\n              )}\n            </li>\n          );\n        })}\n      </ul>\n\n      <div className=\"mt-5 mb-5\">\n        <button\n          className=\"btn btn-lg btn-primary\"\n          onClick={calculate}\n          disabled={periods.length === 0}\n        >\n          Xem kết quả\n        </button>\n      </div>\n      {result && (\n        <div>\n          <h2>Kết quả</h2>\n          <p>Số tháng tham gia BHXH: {result.totalMonths}</p>\n          <p>Mức lương đóng BHXH bình quân: {utils.formatNumber(result.adjustedAverageSalary, true)} / tháng</p>\n          <p>Số tiền <i>ước tính</i> đã đóng BHXH: {utils.formatNumber(result.estimatedContributed, true)}</p>\n          <p className=\"text-success\">\n            <b>\n              Số tiền <i>ước tính</i> sẽ nhận: <u>{utils.formatNumber(result.amountWillReceive, true)}</u>\n            </b>\n          </p>\n\n          <div className=\"mt-5\">\n            <h4>Công thức</h4>\n            <table className=\"table table-borderless table-responsive\">\n              <tbody>\n              <tr>\n                <td><b>Mức hưởng</b></td>\n                <td>=</td>\n                <td>(1,5 x Mbqtl x Thời gian đóng BHXH trước năm 2014)</td>\n                <td>+</td>\n                <td>(2 x Mbqtl x Thời gian đóng BHXH sau năm 2014)</td>\n              </tr>\n              </tbody>\n            </table>\n            <p>\n              Trong đó:\n              <ul>\n                <li>Thời gian đóng BHXH có tháng lẻ thì từ 01 - 06 tháng được tính là ½ năm, từ 07 - 11 tháng được tính là 01 năm.</li>\n                <li>Trường hợp tính đến trước 01/01/2014 nếu thời gian đóng BHXH có tháng lẻ thì những tháng lẻ đó được chuyển sang giai đoạn đóng BHXH từ 01/01/2014 trở đi.</li>\n                <li>Mbqtl là mức bình quân tiền lương tháng đóng BHXH.</li>\n              </ul>\n            </p>\n            <table className=\"table table-borderless table-responsive\">\n              <tbody>\n              <tr>\n                <td><b>Mbqtl</b></td>\n                <td>=</td>\n                <td>(Số tháng đóng BHXH x Tiền lương tháng đóng BHXH x Mức điều chỉnh hàng năm)</td>\n                <td>:</td>\n                <td>Tổng số tháng đóng BHXH</td>\n              </tr>\n              </tbody>\n            </table>\n\n            <p>Dựa theo công thức:</p>\n            <table className=\"table table-borderless table-responsive\">\n              <tbody>\n              <tr>\n                <td><b>Mbqtl</b></td>\n                <td>=</td>\n                <td>{result.adjustedAverageSalaryFormula}</td>\n                <td>=</td>\n                <td>{utils.formatNumber(result.adjustedAverageSalary)}</td>\n              </tr>\n              <tr>\n                <td><b>Mức hưởng</b></td>\n                <td>=</td>\n                <td>\n                  {result.totalYearsBefore2014 > 0 && (\n                    `(${1.5} x ${utils.formatNumber(result.adjustedAverageSalary)} x ${result.totalYearsBefore2014})`\n                  )}\n                  {result.totalYearsBefore2014 > 0 && result.totalYearsFrom2014 > 0 && (\n                    ' + '\n                  )}\n                  {result.totalYearsFrom2014 > 0 && (\n                    `(${2} x ${utils.formatNumber(result.adjustedAverageSalary)} x ${result.totalYearsFrom2014})`\n                  )}\n                </td>\n                <td>=</td>\n                <td>{utils.formatNumber(result.amountWillReceive)}</td>\n              </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n      <ModalSalary show={showModalSalary} setShow={setShowModalSalary}/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}